{% extends "base.html" %} {% block title %}Home{% endblock %} {% block content
%}

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <!-- Font Icon -->
  <link rel="stylesheet" href="static/fonts/material-icon/css/material-design-iconic-font.min.css">

  <!-- Main css -->
  <link rel="stylesheet" href="static/css/style.css">
</head>  
<h1 align="center" class="form-title">{% block header %}Posts{% endblock %}</h1>
<div id="posts">
  <div align="center">
    <a href="/create-post">
      <div class="form-group form-button">
        <input type="submit" name="signup" id="signup" class="form-submit" value="Create a Post" />
      </div>
    </a>
  </div><br>
  {% for post in posts %}
  <div class="card border-dark">
    <div class="card-header d-flex justify-content-between align-items-center"><h4>
    {{post.user.username}}</h4>
      <div>
        <span id="likes-count-{{post.id}}">
          {{ post.likes|length }}</span>
        {% if user.id in post.likes|map(attribute="author")|list %}
        <i class="fas fa-thumbs-up" id="like-button-{{post.id}}" onclick="like({{post.id}})"></i>
        {% else %}
        <i class="far fa-thumbs-up" id="like-button-{{post.id}}" onclick="like({{post.id}})"></i>
        {% endif %} {% if user.id == post.author %}
        
        {% endif %}
      </div>
    </div>
    <div class="card-body">
      <div class="card-text">{{post.text}}</div>
      <br />


    </div>
    <div class="card-footer text-muted">{{post.date_created}}</div>
  </div>
  <br /> {% endfor %}
</div>
{% endblock %}